#!/usr/bin/env python

import argparse
from pprint import pprint

from veles.schema import nodeid
from veles.scli import client

parser = argparse.ArgumentParser()
parser.add_argument('server', help='server address')
parser.add_argument('auth_key', help='hex-encoded server auth-key')
parser.add_argument('id', help='hex-encoded id of object')
args = parser.parse_args()

client = client.create_client(args.server, args.auth_key)
obj = nodeid.NodeID.from_hex(args.id)
for x in client.get_sub(obj):
    pprint(x)
